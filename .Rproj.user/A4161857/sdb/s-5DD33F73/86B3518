{
    "contents" : "#Character Clean up function\nclean_up <- function(){\n        not_passed$Failure_Reason <- tolower(not_passed$Failure_Reason)\n        not_passed$Failure_Reason <- gsub(\"  \", \" \", not_passed$Failure_Reason)\n        not_passed$Failure_Reason <- str_trim(not_passed$Failure_Reason)\n        not_passed\n}\n\n#None Failure removal\nnot_failed <- function(){\n        not_passed$Failure_Reason <- gsub(\"see\", NA, not_passed$Failure_Reason)\n        #not_passed$Failure_Reason <- gsub(\"reass\", NA, not_passed$Failure_Reason)\n        not_passed$Failure_Reason <- gsub(\"material\", NA, not_passed$Failure_Reason)\n        not_passed$Failure_Reason <- gsub(\"collection\", NA, not_passed$Failure_Reason)\n        not_passed$Failure_Reason <- gsub(\"stellaris o\", NA, not_passed$Failure_Reason)\n        not_passed$Failure_Reason <- gsub(\"pass\", NA, not_passed$Failure_Reason)\n        not_passed$Failure_Reason <- gsub(\"wobble o\", NA, not_passed$Failure_Reason)\n        not_passed$Failure_Reason <- gsub(\"wobbles o\", NA, not_passed$Failure_Reason)\n        not_passed$Failure_Reason <- gsub(\"recheck\", NA, not_passed$Failure_Reason)\n        not_passed$Failure_Reason <- gsub(\"relot\", NA, not_passed$Failure_Reason)\n        not_passed$Failure_Reason <- gsub(\"re-lot\", NA, not_passed$Failure_Reason)\n        not_passed$Failure_Reason <- gsub(\"comb\", NA, not_passed$Failure_Reason)\n        filter(not_passed, !is.na(Failure_Reason))\n}\n \n#Failure aggregation\nfailure_aggregation <- function(){\n        only_failed$Failure_Reason <- gsub(\"ms n\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Ms NOT Okay\"\n        \n        only_failed$Failure_Reason <- gsub(\"ms o\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Ms Okay\"\n        \n        only_failed$Failure_Reason <- gsub(\"assig\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Reassigned\"\n        \n        only_failed$Failure_Reason <- gsub(\"base\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Base-swap\"\n        \n        only_failed$Failure_Reason <- gsub(\"wrong m\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Wrong Mass\"\n        \n        only_failed$Failure_Reason <- gsub(\"flush\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Flushed\"\n        \n        only_failed$Failure_Reason <- gsub(\"3 stel\", NA, only_failed$Failure_Reason, fixed=TRUE)\n        only_failed$Failure_Reason <- gsub(\"every sample\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason <- gsub(\"all samples failed\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason <- gsub(\"stellaris f\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason <- gsub(\"more then three\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason <- gsub(\"more than 3\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"More than three stellaris failures\"\n        \n        only_failed$Failure_Reason <- gsub(\"extra tet\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Extra TET coupled\"\n        \n        only_failed$Failure_Reason <- gsub(\"tet\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Poor TET\"\n        \n        only_failed$Failure_Reason <- gsub(\"extra fam\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Extra FAM coupled\"\n        \n        only_failed$Failure_Reason <- gsub(\"fam\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Poor FAM\"\n        \n        only_failed$Failure_Reason <- gsub(\"biotin\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Poor Biotin Coupling\"\n        \n        only_failed$Failure_Reason <- gsub(\"contamin\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Contamination\"\n        \n        only_failed$Failure_Reason <- gsub(\"fluor\", \"Poor Fluorescense\", only_failed$Failure_Reason)\n        \n        only_failed$Failure_Reason <- gsub(\"impurity\", \"ImPurity\", only_failed$Failure_Reason)\n        \n        only_failed$Failure_Reason <- gsub(\"purity\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Poor Purity\"\n        \n        only_failed$Failure_Reason <- gsub(\"n-\", NA, only_failed$Failure_Reason, fixed=TRUE)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"N- failure\"\n        \n        only_failed$Failure_Reason <- gsub(\"syn\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Synthesis Failure\"\n        \n        only_failed$Failure_Reason <- gsub(\"colum\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Column Issue\"\n        \n        only_failed$Failure_Reason <- gsub(\"flp\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason <- gsub(\"no pro\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"No FLP\"\n        \n        only_failed$Failure_Reason <- gsub(\"dmt\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"DMT left on\"\n        \n\n        \n        only_failed$Failure_Reason <- gsub(\"depur\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Depurination\"\n        \n        only_failed$Failure_Reason <- gsub(\"mmt\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"MMT left on\"\n        \n        only_failed$Failure_Reason <- gsub(\"phosp\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Poor Phosphate Coupling\"\n        \n        only_failed$Failure_Reason <- gsub(\"poor j\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Poor Joe coupling\"\n        \n        only_failed$Failure_Reason <- gsub(\"incom\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason <- gsub(\"benz\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason <- gsub(\"cyano\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason <- gsub(\"deprot\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Incomplete Deprotection\"\n        \n        only_failed$Failure_Reason <- gsub(\"dye\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Dye failure\"\n        \n        only_failed$Failure_Reason <- gsub(\"scram\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Plate Scrambled\"\n        \n        only_failed$Failure_Reason <- gsub(\"yield\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason <- gsub(\"yeild\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason <- gsub(\"no dn\", NA, only_failed$Failure_Reason)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Low Yield\"\n        \n\n        only_failed$Failure_Reason <- gsub(\"-1\", NA, only_failed$Failure_Reason, fixed=TRUE)\n        only_failed$Failure_Reason <- gsub(\"-2\", NA, only_failed$Failure_Reason, fixed=TRUE)\n        only_failed$Failure_Reason <- gsub(\"-3\", NA, only_failed$Failure_Reason, fixed=TRUE)\n        only_failed$Failure_Reason <- gsub(\"-4\", NA, only_failed$Failure_Reason, fixed=TRUE)\n        only_failed$Failure_Reason <- gsub(\"-5\", NA, only_failed$Failure_Reason, fixed=TRUE)\n        only_failed$Failure_Reason <- gsub(\"-6\", NA, only_failed$Failure_Reason, fixed=TRUE)\n        only_failed$Failure_Reason <- gsub(\"-7\", NA, only_failed$Failure_Reason, fixed=TRUE)\n        only_failed$Failure_Reason <- gsub(\"-8\", NA, only_failed$Failure_Reason, fixed=TRUE)\n        only_failed$Failure_Reason <- gsub(\"-9\", NA, only_failed$Failure_Reason, fixed=TRUE)\n        only_failed$Failure_Reason <- gsub(\"+1\", NA, only_failed$Failure_Reason, fixed=TRUE)\n        only_failed$Failure_Reason <- gsub(\"+2\", NA, only_failed$Failure_Reason, fixed=TRUE)\n        only_failed$Failure_Reason <- gsub(\"+3\", NA, only_failed$Failure_Reason, fixed=TRUE)\n        only_failed$Failure_Reason <- gsub(\"+4\", NA, only_failed$Failure_Reason, fixed=TRUE)\n        only_failed$Failure_Reason <- gsub(\"+5\", NA, only_failed$Failure_Reason, fixed=TRUE)\n        only_failed$Failure_Reason <- gsub(\"+6\", NA, only_failed$Failure_Reason, fixed=TRUE)\n        only_failed$Failure_Reason  <- gsub(\"+7\", NA, only_failed$Failure_Reason, fixed=TRUE)\n        only_failed$Failure_Reason <- gsub(\"+8\", NA, only_failed$Failure_Reason, fixed=TRUE)\n        only_failed$Failure_Reason <- gsub(\"+9\", NA, only_failed$Failure_Reason, fixed=TRUE)\n        only_failed$Failure_Reason[is.na(only_failed[,1])] <- \"Impurity Present\"\n        only_failed\n        \n}\n\ndata_summary <- function () {\n        summaries <- c(\"Total number of sequences analyzed:\",\n                       \"Not passed amount:\",\n                       \"Percent Not Passed\",\n                       \"Total number of failures and reassigns found:\",\n                       \"Percent failures and reassigns:\",\n                       \"# of Reassigns:\",\n                       \"Total failed:\",\n                       \"Percent Failed\")\n        numbers <- c(seq_amount, \n                     not_passed_amount,\n                     not_passed_amount/seq_amount*100,\n                     failures_and_reassigns,\n                     failures_and_reassigns/seq_amount*100,\n                     failures_and_reassigns-failed_count,\n                     failed_count,\n                     failed_count/seq_amount*100)\n        data.frame(summaries, numbers)\n}\n\nwrite_outtest <- function(variablename, outputname=\"test.xlsx\", sheetname=\"test\"){\n        class(variablename) <- \"data.frame\"\n        write.xlsx(variablename,\n                   file=outputname, \n                   sheetName=sheetname,\n                   row.names=FALSE,\n                   append=FALSE)\n}",
    "created" : 1425086860431.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "1|23|6|0|\n169|82|176|0|\n",
    "hash" : "756131485",
    "id" : "86B3518",
    "lastKnownWriteTime" : 1425351109,
    "path" : "C:/Users/cferguson/Desktop/biosearch_projects/failurelistfunctions.R",
    "project_path" : "failurelistfunctions.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}