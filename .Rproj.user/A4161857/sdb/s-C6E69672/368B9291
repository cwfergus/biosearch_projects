{
    "contents" : "## Code to convert exported FM file to find failure reasons.\n# Needs to grab just failures\n# sort via reason\n# calculate percent of each reason\nlibrary(dplyr)\nlibrary(xlsx)\nfilename <- readline(\"What is the file called? Don't forget the extension... \")\n\noutputname <- readline(\"What is the output file called?...  \")\noutputname <- paste(outputname, \".xlsx\", sep=\"\")\n\nrawdata <- read.table(filename, \n                      sep=\"\\t\", \n                      stringsAsFactors=FALSE, \n                      na.strings = \"\")\n\ncolnames(rawdata) <- c(\"Failure_Reason\", \n                       \"Five_Prime_mod\", \n                       \"Three_Prime_mod\", \n                       \"sequence\")\n\nraw_tbl_df <- tbl_df(rawdata)\n\nfailures <- filter(rawdata, !is.na(Failure_Reason))\n\nsorted <- arrange(failures, Failure_Reason, Five_Prime_mod, Three_Prime_mod)\n\nby_Reason <- group_by(sorted, Failure_Reason)\nfailure_counts <- summarize(by_Reason, number_of_failures = n())\nclass(failure_counts) <- \"data.frame\"\ndate <- Sys.Date()\n\n\ncountedname <- paste(\"Counted\", \"for\", date, sep=\" \")\nrawname <- paste(\"Raw\", \"for\", date, sep=\" \")\n\nwrite.xlsx(failure_counts,\n           file=outputname, \n           sheetName=countedname,\n           row.names=FALSE,\n           append=TRUE)\n\nwrite.xlsx(sorted, \n           outputname,\n           sheetName=rawname,\n           row.names=FALSE,\n           append=TRUE)\n\n\n\n\n",
    "created" : 1424983776232.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2663065005",
    "id" : "368B9291",
    "lastKnownWriteTime" : 1424984730,
    "path" : "C:/Users/cferguson/Desktop/biosearch_projects/failurelist.R",
    "project_path" : "failurelist.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}